<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>福彩3D智能预测系统</title>
    <!-- 原有样式和内容 -->
    <link rel="manifest" href="manifest.json">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1a56db',
                        secondary: '#e02424',
                        accent: '#f59e0b',
                        dark: '#111827',
                        light: '#f3f4f6',
                        'primary-light': '#e1effe',
                        'secondary-light': '#fee2e2',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
                    }
                }
            }
        }
    </script>

    <style>
        .text-shadow {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .transition-all-300 {
            transition: all 300ms ease-in-out;
        }
        .number-ball {
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 300ms ease-in-out;
        }
        .number-ball-primary {
            background-color: #1a56db;
        }
        .number-ball-primary:hover {
            background-color: rgba(26, 86, 219, 0.8);
        }
        .number-ball-secondary {
            background-color: #e02424;
        }
        .number-ball-secondary:hover {
            background-color: rgba(224, 36, 36, 0.8);
        }
        .number-ball-accent {
            background-color: #f59e0b;
        }
        .number-ball-accent:hover {
            background-color: rgba(245, 158, 11, 0.8);
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            transition: all 300ms ease-in-out;
        }
        .card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn-primary {
            background-color: #1a56db;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 300ms ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-primary:hover {
            background-color: rgba(26, 86, 219, 0.9);
        }
        .btn-secondary {
            background-color: #e02424;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 300ms ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-secondary:hover {
            background-color: rgba(224, 36, 36, 0.9);
        }
        .btn-outline {
            border: 1px solid #d1d5db;
            background-color: transparent;
            color: #374151;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 300ms ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-outline:hover {
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center"></div>
                
                <!-- 桌面端导航 -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" class="nav-item text-primary font-medium border-b-2 border-primary" data-page="home">首页</a>
                    <a href="pages/data-input.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="data-input">数据输入</a>
                    <a href="pages/prediction.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="prediction">智能预测</a>
                    <a href="resonance-analysis/index.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="resonance">共振分析</a>
                    <a href="pages/seven-analysis.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="history">历史分析</a>
                    <a href="pages/review.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="review">复盘分析</a>
                    <a href="pages/model.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="model">模型优化</a>
                    <a href="pages/optimization.html" class="nav-item text-gray-600 hover:text-primary transition-colors" data-page="optimization">程序优化升级</a>
                </nav>
                
                <!-- 移动端菜单按钮 -->
                <button id="mobile-menu-button" class="md:hidden text-gray-600 focus:outline-none">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
            
            <!-- 移动端导航菜单 -->
            <div id="mobile-menu" class="md:hidden hidden mt-4 pb-2">
                <nav class="flex flex-col space-y-3">
                    <a href="#" class="text-primary font-medium py-2 border-l-4 border-primary pl-3">首页</a>
                    <a href="pages/data-input.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">数据输入</a>
                    <a href="pages/prediction.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">智能预测</a>
                    <a href="resonance-analysis/index.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">共振分析</a>
                    <a href="pages/seven-analysis.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">历史分析</a>
                    <a href="pages/review.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">复盘分析</a>
                    <a href="pages/model.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">模型优化</a>
                    <a href="pages/optimization.html" class="text-gray-600 hover:text-primary transition-colors py-2 pl-3">程序优化升级</a>
                </nav>
            </div>
        </div>
    </header>



    <!-- 主要内容 -->
    <main>
        <!-- 英雄区域 -->
        <section class="bg-gradient-to-r from-orange-500 to-amber-500 text-white py-12 md:py-20">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <div class="md:w-1/2 mb-8 md:mb-0 text-center">
                        <h1 class="text-5xl md:text-8xl font-bold mb-2 text-white drop-shadow-lg" style="font-size: 48px;">福彩3D智能推理系统</h1>
                        <h2 class="text-3xl md:text-4xl font-bold mb-4 text-shadow">智能推理，科学选号</h2>
                        <p class="text-lg md:text-xl mb-6 opacity-90">基于先进的数据分析算法，为您提供精准的福彩3D号码推理，助您中得大奖！</p>
                        <div class="flex flex-wrap gap-4">
                            <a href="pages/result.html" class="bg-white text-primary font-bold py-3 px-6 rounded-lg transition-all duration-300 hover:shadow-lg flex items-center">
                                <i class="fa fa-play-circle mr-2"></i> 查看预测
                            </a>
                            <a href="pages/data-input.html" class="bg-white/20 backdrop-blur-sm text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 hover:bg-white/30 flex items-center">
                                <i class="fa fa-plus-circle mr-2"></i> 数据输入
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 预测结果展示 -->
        <section class="py-12 md:py-16 bg-amber-50">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-12 text-dark">最新推理结果</h2>
                
                <!-- 数据同步控制按钮 -->
                <div class="flex justify-center mb-6">
                    <button id="refresh-prediction" class="btn-outline mr-3 flex items-center">
                        <i class="fa fa-refresh mr-2"></i> 刷新数据
                    </button>
                    <button id="view-full-prediction" class="btn-primary flex items-center">
                        <i class="fa fa-eye mr-2"></i> 查看完整预测
                    </button>
                </div>
                
                <div id="prediction-container" class="bg-white rounded-2xl shadow-lg overflow-hidden">
                    <!-- 预测结果头部 -->
                    <div class="bg-gradient-to-r from-orange-500 to-amber-500 text-white p-6">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                            <div>
                                <h3 class="text-xl font-bold">第2025123期推理结果</h3>
                                <p class="mt-1 opacity-90" style="font-size: 18px;">更新时间: <span id="update-time">2025-05-15 10:30:00</span></p>
                            </div>
                            <div class="mt-4 md:mt-0 flex items-center">
                                <span id="prediction-status" class="inline-flex items-center bg-white/20 px-3 py-1 rounded-full text-sm">
                                    <i class="fa fa-check-circle mr-1"></i> 已验证
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 预测结果内容 -->
                    <div id="prediction-content" class="p-6 md:p-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- 胆码预测 -->
                            <div class="bg-primary-light rounded-xl p-6">
                                <h4 class="text-lg font-bold text-dark mb-4 flex items-center">
                                    <i class="fa fa-star text-primary mr-2"></i> 胆码预测
                                </h4>
                                <div id="D胆码-container" class="flex flex-wrap gap-3 mb-4">
                                    <div class="number-ball number-ball-primary">3</div>
                                    <div class="number-ball number-ball-primary">5</div>
                                    <div class="number-ball number-ball-primary">7</div>
                                </div>
                                <p class="text-gray-600 text-sm">基于3胆中2胆模型,由1个热号+2个渐热号组成</p>
                            </div>
                            
                            <!-- 五码预测 -->
                            <div class="bg-secondary-light rounded-xl p-6">
                                <h4 class="text-lg font-bold text-dark mb-4 flex items-center">
                                    <i class="fa fa-th text-secondary mr-2"></i> 五码预测
                                </h4>
                                <div id="five-number-container" class="flex flex-wrap gap-3 mb-4">
                                    <div class="number-ball number-ball-secondary">3</div>
                                    <div class="number-ball number-ball-secondary">5</div>
                                    <div class="number-ball number-ball-secondary">7</div>
                                    <div class="number-ball number-ball-secondary">2</div>
                                    <div class="number-ball number-ball-secondary">8</div>
                                </div>
                                <p class="text-gray-600 text-sm">包含3个胆码,由3个胆码+渐热号+冷号组成</p>
                            </div>
                            
                            <!-- 七码预测 -->
                            <div class="bg-yellow-50 rounded-xl p-6">
                                <h4 class="text-lg font-bold text-dark mb-4 flex items-center">
                                    <i class="fa fa-th-large text-accent mr-2"></i> 七码预测
                                </h4>
                                <div id="seven-number-container" class="flex flex-wrap gap-3 mb-4">
                                    <div class="number-ball number-ball-accent">3</div>
                                    <div class="number-ball number-ball-accent">5</div>
                                    <div class="number-ball number-ball-accent">7</div>
                                    <div class="number-ball number-ball-accent">2</div>
                                    <div class="number-ball number-ball-accent">8</div>
                                    <div class="number-ball number-ball-accent">0</div>
                                    <div class="number-ball number-ball-accent">9</div>
                                </div>
                                <p class="text-gray-600 text-sm">包含3个胆码和5码，增加2个冷号</p>
                            </div>
                            
                            <!-- 跨度和形态 -->
                            <div class="bg-blue-50 rounded-xl p-6">
                                <h4 class="text-lg font-bold text-dark mb-4 flex items-center">
                                    <i class="fa fa-arrows-h text-blue-500 mr-2"></i> 跨度和形态
                                </h4>
                                <div class="mb-4">
                                    <p class="text-gray-600 mb-2">预测跨度: <span id="predicted-span" class="font-bold text-blue-500">5, 6, 7, 8</span></p>
                                    <p class="text-gray-600">预测形态: <span id="predicted-pattern" class="font-bold text-blue-500">组六</span></p>
                                </div>
                                <p class="text-gray-600 text-sm">依据20期的跨度和形态走势推测</p>
                            </div>
                            
                            <!-- 组选推荐 -->
                            <div class="bg-green-50 rounded-xl p-6">
                                <h4 class="text-lg font-bold text-dark mb-4 flex items-center">
                                    <i class="fa fa-list-ol text-green-500 mr-2"></i> 组选推荐
                                </h4>
                                <div id="group-selection-container" class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded">357</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded">352</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded">358</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded">372</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded">378</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded">572</span>
                                </div>
                                <p class="text-gray-600 text-sm">基于五码组合生成的组选号码</p>
                            </div>
                            
                            <!-- 直选推荐 -->
                            <div class="bg-purple-50 rounded-xl p-6">
                                <h4 class="text-lg font-bold text-dark mb-4 flex items-center">
                                    <i class="fa fa-th-list text-purple-500 mr-2"></i> 直选推荐
                                </h4>
                                <div id="direct-selection-container" class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded">357</span>
                                    <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded">375</span>
                                    <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded">537</span>
                                    <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded">573</span>
                                    <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded">735</span>
                                    <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded">753</span>
                                </div>
                                <p class="text-gray-600 text-sm">基于胆码组合生成的直选号码</p>
                            </div>
                        </div>
                        
                        <!-- 数据同步状态信息 -->
                        <div id="sync-status" class="mt-6 p-4 bg-blue-50 rounded-lg text-sm text-gray-600">
                            <div class="flex items-center">
                                <i class="fa fa-info-circle text-blue-500 mr-2"></i>
                                <span>数据同步状态: 正常。上次同步时间: 2025-05-15 10:30:00</span>
                            </div>
                        </div>
                        
                        <div class="mt-8 text-center">
                            <a href="pages/result.html" class="btn-primary text-lg px-8 py-3">
                                查看完整预测结果 <i class="fa fa-arrow-right ml-2"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- 数据加载失败提示 -->
                    <div id="prediction-error" class="p-6 md:p-8 hidden">
                        <div class="text-center py-12">
                            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 text-red-500 mb-6">
                                <i class="fa fa-exclamation-triangle text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-dark mb-2">数据加载失败</h3>
                            <p class="text-gray-600 mb-6">无法获取最新的预测结果数据，请稍后重试</p>
                            <button id="retry-load" class="btn-primary">
                                <i class="fa fa-refresh mr-2"></i> 重试加载
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 数据统计 -->
        <section class="py-12 md:py-16 bg-amber-100">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-12 text-dark">系统数据统计</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- 使用人数 -->
                    <div class="card text-center">
                        <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fa fa-users text-primary text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-dark mb-2">12,458</h3>
                        <p class="text-gray-600">活跃用户</p>
                    </div>
                    
                    <!-- 预测准确率 -->
                    <div class="card text-center">
                        <div class="w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fa fa-bullseye text-secondary text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-dark mb-2">78.3%</h3>
                        <p class="text-gray-600">预测准确率</p>
                    </div>
                    
                    <!-- 胆码命中率 -->
                    <div class="card text-center">
                        <div class="w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fa fa-star text-accent text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-dark mb-2">82.5%</h3>
                        <p class="text-gray-600">胆码命中率</p>
                    </div>
                    
                    <!-- 组选命中率 -->
                    <div class="card text-center">
                        <div class="w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fa fa-trophy text-green-500 text-2xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-dark mb-2">45.7%</h3>
                        <p class="text-gray-600">组选命中率</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 数据可视化 -->
        <section class="py-12 md:py-16 bg-amber-50">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-12 text-dark">数据可视化</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- 号码频率图表 -->
                    <div class="card">
                        <h3 class="text-xl font-bold text-dark mb-6">号码频率分析</h3>
                        <div class="h-80">
                            <canvas id="numberFrequencyChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- 跨度分布图表 -->
                    <div class="card">
                        <h3 class="text-xl font-bold text-dark mb-6">跨度分布分析</h3>
                        <div class="h-80">
                            <canvas id="spanDistributionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 用户评价 -->
        <section class="py-12 md:py-16 bg-amber-100">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-12 text-dark">用户评价</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- 评价1 -->
                    <div class="card">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mr-4">
                                <span class="text-primary font-bold">张</span>
                            </div>
                            <div>
                                <h4 class="font-bold text-dark">张先生</h4>
                                <div class="flex text-yellow-400">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">"使用这个系统已经3个月了,胆码预测非常准确,中了好几次小奖,昨天终于中了个组选,太开心了！"</p>
                    </div>
                    
                    <!-- 评价2 -->
                    <div class="card">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center mr-4">
                                <span class="text-secondary font-bold">李</span>
                            </div>
                            <div>
                                <h4 class="font-bold text-dark">李女士</h4>
                                <div class="flex text-yellow-400">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star-half-o"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">"数据分析功能很强大，历史走势图表清晰明了，帮助我更好地理解出号规律，提高了中奖概率。"</p>
                    </div>
                    
                    <!-- 评价3 -->
                    <div class="card">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center mr-4">
                                <span class="text-accent font-bold">王</span>
                            </div>
                            <div>
                                <h4 class="font-bold text-dark">王先生</h4>
                                <div class="flex text-yellow-400">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star-o"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">"动态模型优化功能很棒，可以根据自己的经验调整参数，个性化预测结果，用起来很顺手。"</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 底部区域 -->
    <footer class="bg-dark text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                <!-- 关于我们 -->
                <div>
                    <h3 class="text-xl font-bold mb-4">关于我们</h3>
                    <p class="text-gray-300">福彩3D智能推理系统是一款专业的福彩3D号码推理工具,基于历史数据分析算法,为用户提供高概率号码预测服务。</p>
                </div>
                
                <!-- 快速链接 -->
                <div>
                    <h3 class="text-xl font-bold mb-4">快速链接</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">首页</a></li>
                        <li><a href="pages/data-input.html" class="text-gray-300 hover:text-white transition-colors">数据输入</a></li>
                        <li><a href="pages/prediction.html" class="text-gray-300 hover:text-white transition-colors">胆码预测</a></li>
                        <li><a href="pages/seven-analysis.html" class="text-gray-300 hover:text-white transition-colors">历史分析</a></li>
                        <li><a href="pages/review.html" class="text-gray-300 hover:text-white transition-colors">复盘分析</a></li>
                    </ul>
                </div>
                
                <!-- 联系我们 -->
                <div>
                    <h3 class="text-xl font-bold mb-4">联系我们</h3>
                    <ul class="space-y-2">
                        <li class="flex items-center">
                            <i class="fa fa-envelope mr-2"></i>
                            <span class="text-gray-300">contact@lottery3d.com</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-phone mr-2"></i>
                            <span class="text-gray-300">188-3243-7598</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-weixin mr-2"></i>
                            <span class="text-gray-300">18832437598</span>
                        </li>
                    </ul>
                </div>
                
                <!-- 二维码 -->
                <div>
                    <h3 class="text-xl font-bold mb-4">关注我们</h3>
                    <div class="bg-white p-2 inline-block rounded-lg">
                        <div class="w-32 h-32 bg-gray-200 flex items-center justify-center">
                            <span class="text-gray-500">微信二维码</span>
                        </div>
                    </div>
                    <p class="text-gray-300 mt-2 text-sm">扫码关注获取更多优惠</p>
                </div>
            </div>
            
            <div class="border-t border-gray-700 pt-8 text-center">
                <p class="text-gray-400">© 2025 福彩3D智能推理系统 版权所有 | 彩票推理仅供参考，购买彩票请理性对待</p>
            </div>
        </div>
    </footer>

    <!-- 通知弹窗 -->
    <div id="notification" class="fixed top-4 right-4 bg-white rounded-lg shadow-lg p-4 transform translate-x-full transition-transform duration-300 z-50 max-w-sm">
        <div class="flex items-start">
            <div id="notification-icon" class="flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full mr-3">
                <i id="notification-icon-i" class="fa"></i>
            </div>
            <div class="flex-1">
                <h4 id="notification-title" class="text-sm font-medium text-gray-800"></h4>
                <p id="notification-message" class="mt-1 text-sm text-gray-600"></p>
            </div>
            <button id="close-notification" class="ml-4 text-gray-400 hover:text-gray-500">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>

    <!-- 预测数据处理工具 -->
    <script type="module" src="utils/predictUtils.js"></script>
    

    
    <!-- JavaScript -->
    <script>
        // 页面内容容器
        const contentContainer = document.createElement('div');
        contentContainer.id = 'page-content';
        document.querySelector('main').appendChild(contentContainer);
        
        // 移动端菜单切换
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // 导航菜单点击事件
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                const page = this.getAttribute('data-page');
                
                // 更新导航菜单高亮状态
                document.querySelectorAll('.nav-item').forEach(navItem => {
                    if (navItem.getAttribute('data-page') === page) {
                        navItem.classList.add('text-primary', 'font-medium');
                        navItem.classList.remove('text-gray-600');
                        
                        // 桌面端添加下划线
                        if (window.innerWidth >= 768) {
                            navItem.classList.add('border-b-2', 'border-primary');
                        } else {
                            // 移动端添加左侧边框
                            navItem.classList.add('border-l-4', 'border-primary');
                        }
                    } else {
                        navItem.classList.remove('text-primary', 'font-medium');
                        navItem.classList.add('text-gray-600');
                        
                        // 移除高亮样式
                        if (window.innerWidth >= 768) {
                            navItem.classList.remove('border-b-2', 'border-primary');
                        } else {
                            navItem.classList.remove('border-l-4', 'border-primary');
                        }
                    }
                });
                
                // 关闭移动端菜单
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });
        
        // 页面加载时检查当前URL，高亮对应的导航项
        window.addEventListener('load', function() {
            const currentPath = window.location.pathname;
            
            // 根据当前URL确定对应的导航项
            let activePage = 'home';
            if (currentPath.includes('data-input.html')) {
                activePage = 'data-input';
            } else if (currentPath.includes('prediction.html')) {
                activePage = 'prediction';
            } else if (currentPath.includes('resonance-analysis/index.html')) {
                activePage = 'resonance';
            } else if (currentPath.includes('seven-analysis.html')) {
                activePage = 'history';
            } else if (currentPath.includes('review.html')) {
                activePage = 'review';
            } else if (currentPath.includes('model.html')) {
                activePage = 'model';
            } else if (currentPath.includes('optimization.html')) {
                activePage = 'optimization';
            }
            
            // 触发对应导航项的点击事件，以更新高亮状态
            const activeNavItem = document.querySelector(`.nav-item[data-page="${activePage}"]`);
            if (activeNavItem) {
                // 手动触发点击事件
                const event = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: true
                });
                activeNavItem.dispatchEvent(event);
            }
        });
        
        // 通知弹窗功能
        function showNotification(title, message, type = 'info') {
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notification-title');
            const notificationMessage = document.getElementById('notification-message');
            const notificationIcon = document.getElementById('notification-icon');
            const notificationIconI = document.getElementById('notification-icon-i');
            
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            // 设置图标和颜色
            if (type === 'success') {
                notificationIcon.className = 'flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full bg-green-100 text-green-500 mr-3';
                notificationIconI.className = 'fa fa-check';
            } else if (type === 'error') {
                notificationIcon.className = 'flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full bg-red-100 text-red-500 mr-3';
                notificationIconI.className = 'fa fa-times';
            } else if (type === 'warning') {
                notificationIcon.className = 'flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full bg-yellow-100 text-yellow-500 mr-3';
                notificationIconI.className = 'fa fa-exclamation';
            } else {
                notificationIcon.className = 'flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full bg-blue-100 text-blue-500 mr-3';
                notificationIconI.className = 'fa fa-info';
            }
            
            // 显示通知
            notification.classList.remove('translate-x-full');
            
            // 3秒后自动关闭
            setTimeout(() => {
                notification.classList.add('translate-x-full');
            }, 3000);
        }
        
        // 关闭通知按钮
        document.getElementById('close-notification').addEventListener('click', function() {
            document.getElementById('notification').classList.add('translate-x-full');
        });
        
        // 初始化图表
        function initCharts() {
            // 初始化号码频率图表
            const numberFrequencyCtx = document.getElementById('numberFrequencyChart');
            if (numberFrequencyCtx) {
                new Chart(numberFrequencyCtx, {
                    type: 'bar',
                    data: {
                        labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
                        datasets: [{
                            label: '出现频率',
                            data: [18, 22, 25, 30, 28, 32, 27, 35, 24, 20],
                            backgroundColor: '#1a56db',
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
            
            // 初始化跨度分布图表
            const spanDistributionCtx = document.getElementById('spanDistributionChart');
            if (spanDistributionCtx) {
                new Chart(spanDistributionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
                        datasets: [{
                            label: '跨度分布',
                            data: [5, 8, 12, 15, 20, 25, 30, 22, 18, 10],
                            backgroundColor: '#e02424',
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        }
        
        // 页面加载时初始化图表
        window.addEventListener('load', function() {
            // 初始化图表
            initCharts();
            
            // 初始化预测结果数据同步
            initPredictionSync();
        });
        
        // 初始化预测结果数据同步
        function initPredictionSync() {
            console.log('初始化预测结果数据同步');
            
            // 从localStorage加载最新预测结果
            loadLatestPrediction(false);
            
            // 重试加载按钮点击事件
            const retryButton = document.getElementById('retry-load');
            if (retryButton) {
                retryButton.addEventListener('click', function() {
                    loadLatestPrediction(true);
                });
            }
            
            // 每30秒自动检查一次新数据
            setInterval(function() {
                console.log('自动同步预测数据...');
                loadLatestPrediction(false);
            }, 30000);
        }
        
        // 从localStorage加载最新预测结果
        function loadLatestPrediction(showNotification = false) {
            console.log('从localStorage加载最新预测结果');
            
            // 显示加载中状态
            const loadingElement = document.getElementById('prediction-loading');
            const contentElement = document.getElementById('prediction-content');
            const errorElement = document.getElementById('prediction-error');
            
            if (loadingElement) loadingElement.classList.remove('hidden');
            if (contentElement) contentElement.classList.add('hidden');
            if (errorElement) errorElement.classList.add('hidden');
            
            try {
                // 从localStorage获取最新预测结果
                let predictionData = null;
                
                // 优先尝试获取prediction.html生成的最新预测数据 (第n+1期数据)
                const latestPrediction = localStorage.getItem('latestPrediction');
                
                if (latestPrediction) {
                    try {
                        predictionData = JSON.parse(latestPrediction);
                        console.log('成功获取智能预测页面生成的第n+1期预测结果:', predictionData);
                        // 更新预测状态
                        updatePredictionStatus('智能预测同步');
                    } catch (parseError) {
                        console.error('解析最新预测数据失败:', parseError);
                        predictionData = null;
                    }
                }
                
                // 如果没有获取到最新预测数据，尝试获取上一期预测数据
                if (!predictionData) {
                    const lastPrediction = localStorage.getItem('lastPrediction');
                    if (lastPrediction) {
                        try {
                            predictionData = JSON.parse(lastPrediction);
                            console.log('使用上一期预测结果:', predictionData);
                            // 更新预测状态
                            updatePredictionStatus('上一期预测');
                        } catch (parseError) {
                            console.error('解析上一期预测数据失败:', parseError);
                            predictionData = null;
                        }
                    }
                }
                
                // 尝试获取保存的预测结果
                if (!predictionData) {
                    const latestSavedPrediction = localStorage.getItem('latestSavedPrediction');
                    if (latestSavedPrediction) {
                        try {
                            predictionData = JSON.parse(latestSavedPrediction);
                            console.log('使用保存的预测结果:', predictionData);
                            // 更新预测状态
                            updatePredictionStatus('保存的预测');
                        } catch (parseError) {
                            console.error('解析保存的预测数据失败:', parseError);
                            predictionData = null;
                        }
                    }
                }
                
                // 如果仍然没有预测数据，显示空状态
                if (!predictionData) {
                    console.log('localStorage中没有预测结果,显示空状态');
                    
                    // 清除默认数据，显示空状态
                    predictionData = {
                        period: '',
                        time: new Date().toLocaleString('zh-CN'),
                        updateTime: new Date().toLocaleString('zh-CN'),
                        // 兼容prediction.html的数据格式
                        d胆码: [],
                        fiveNumbers: [],
                        sevenNumbers: [],
                        spans: [],
                        pattern: '',
                        groupSelections: [],
                        directSelections: []
                    };
                    
                    // 更新同步状态信息
                    updateSyncStatus('等待数据', new Date());
                    updatePredictionStatus('请在智能预测页面生成数据');
                } else {
                    // 更新同步状态信息
                    updateSyncStatus('正常', new Date());
                }
                
                // 更新页面内容 - 确保兼容prediction.html生成的数据格式
                updatePredictionUI(predictionData);
                
                // 同时更新另一个预测结果显示函数，确保所有区域都显示相同数据
                updatePredictionDisplay(predictionData);
                
                // 显示内容区域
                if (loadingElement) loadingElement.classList.add('hidden');
                if (contentElement) contentElement.classList.remove('hidden');
                
                // 如果需要显示通知
                if (showNotification) {
                    showNotification('数据已更新', '智能预测数据已成功同步到首页', 'success');
                }
            } catch (error) {
                console.error('加载预测结果失败:', error);
                
                // 显示错误区域
                if (loadingElement) loadingElement.classList.add('hidden');
                if (errorElement) errorElement.classList.remove('hidden');
                
                // 更新同步状态信息
                updateSyncStatus('错误', new Date());
                
                // 更新预测状态
                updatePredictionStatus('数据异常');
            }
        }
        
        // 更新预测结果UI
        function updatePredictionUI(prediction) {
            // 确保预测数据存在
            if (!prediction) return;
            
            // 更新期号 - 确保正确显示智能预测页面生成的第n+1期期号
            const periodElement = document.getElementById('prediction-period');
            if (periodElement) {
                // 提取期号中的数字部分，兼容不同格式
                const periodNumber = String(prediction.period).replace(/[^\d]/g, '');
                periodElement.textContent = periodNumber || '暂无';
            }
            
            // 更新时间
            const updateTimeElement = document.getElementById('update-time');
            if (updateTimeElement) {
                updateTimeElement.textContent = prediction.time || prediction.updateTime || new Date().toLocaleString('zh-CN');
            }
            
            // 更新胆码 - 确保兼容智能预测页面生成的数据格式
            const d胆码Container = document.getElementById('d胆码-container');
            if (d胆码Container) {
                d胆码Container.innerHTML = '';
                
                // 处理胆码数据 (确保是数组)
                const d胆码Numbers = Array.isArray(prediction.d胆码) ? prediction.d胆码 : [];
                
                if (d胆码Numbers.length > 0) {
                    d胆码Numbers.forEach(number => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball number-ball-secondary';
                        ball.textContent = number;
                        d胆码Container.appendChild(ball);
                    });
                } else {
                    // 没有数据时显示提示
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无';
                    d胆码Container.appendChild(emptyText);
                }
            }
            
            // 更新五码 - 确保兼容智能预测页面生成的数据格式
            const fiveNumberContainer = document.getElementById('five-number-container');
            if (fiveNumberContainer) {
                fiveNumberContainer.innerHTML = '';
                
                // 确保是数组
                const fiveNumbers = Array.isArray(prediction.fiveNumbers) ? prediction.fiveNumbers : (Array.isArray(prediction.fiveNumber) ? prediction.fiveNumber : []);
                
                if (fiveNumbers.length > 0) {
                    fiveNumbers.forEach(number => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball number-ball-secondary';
                        ball.textContent = number;
                        fiveNumberContainer.appendChild(ball);
                    });
                } else {
                    // 没有数据时显示提示
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无';
                    fiveNumberContainer.appendChild(emptyText);
                }
            }
            
            // 更新七码 - 确保兼容智能预测页面生成的数据格式
            const sevenNumberContainer = document.getElementById('seven-number-container');
            if (sevenNumberContainer) {
                sevenNumberContainer.innerHTML = '';
                
                // 确保是数组
                const sevenNumbers = Array.isArray(prediction.sevenNumbers) ? prediction.sevenNumbers : (Array.isArray(prediction.sevenNumber) ? prediction.sevenNumber : []);
                
                if (sevenNumbers.length > 0) {
                    sevenNumbers.forEach(number => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball number-ball-accent';
                        ball.textContent = number;
                        sevenNumberContainer.appendChild(ball);
                    });
                } else {
                    // 没有数据时显示提示
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无';
                    sevenNumberContainer.appendChild(emptyText);
                }
            }
            
            // 更新跨度
            const spanElement = document.getElementById('predicted-span');
            if (spanElement) {
                // 兼容spans数组和span字符串格式
                if (Array.isArray(prediction.spans) && prediction.spans.length > 0) {
                    spanElement.textContent = prediction.spans.join(', ');
                } else {
                    spanElement.textContent = prediction.span || '暂无';
                }
            }
            
            // 更新形态
            const patternElement = document.getElementById('predicted-pattern');
            if (patternElement) {
                patternElement.textContent = prediction.pattern || '暂无';
            }
            
            // 更新组选推荐
            const groupSelectionContainer = document.getElementById('group-selection-container');
            if (groupSelectionContainer) {
                groupSelectionContainer.innerHTML = '';
                
                // 确保是数组，兼容多种格式
                const groupSelections = Array.isArray(prediction.groupSelections) ? prediction.groupSelections : (Array.isArray(prediction.groupSelection) ? prediction.groupSelection : []);
                
                if (groupSelections.length > 0) {
                    // 只显示前6个组选号码
                    groupSelections.slice(0, 6).forEach(selection => {
                        const span = document.createElement('span');
                        span.className = 'bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded';
                        span.textContent = selection;
                        groupSelectionContainer.appendChild(span);
                    });
                } else {
                    // 没有数据时显示提示
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无推荐';
                    groupSelectionContainer.appendChild(emptyText);
                }
            }
            
            // 更新直选推荐
            const directSelectionContainer = document.getElementById('direct-selection-container');
            if (directSelectionContainer) {
                directSelectionContainer.innerHTML = '';
                
                // 确保是数组，兼容多种格式
                const directSelections = Array.isArray(prediction.directSelections) ? prediction.directSelections : (Array.isArray(prediction.directSelection) ? prediction.directSelection : []);
                
                if (directSelections.length > 0) {
                    // 只显示前6个直选号码
                    directSelections.slice(0, 6).forEach(selection => {
                        const span = document.createElement('span');
                        span.className = 'bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded';
                        span.textContent = selection;
                        directSelectionContainer.appendChild(span);
                    });
                } else {
                    // 没有数据时显示提示
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无推荐';
                    directSelectionContainer.appendChild(emptyText);
                }
            }
            
            // 更新同步时间
            const syncTimeElement = document.getElementById('sync-time');
            if (syncTimeElement) {
                syncTimeElement.textContent = prediction.time || prediction.updateTime || new Date().toLocaleString('zh-CN');
            }
        }
        
        // 显示预测结果加载错误
        function showPredictionError() {
            document.getElementById('prediction-loading').classList.add('hidden');
            document.getElementById('prediction-content').classList.add('hidden');
            document.getElementById('prediction-error').classList.remove('hidden');
        }
        
        // 同步预测数据
        function syncPredictionData(showLoading = true) {
            try {
                // 更新同步状态信息
                updateSyncStatus('同步中', new Date());
                
                // 更新预测状态
                updatePredictionStatus('数据同步中...');
                
                // 直接调用loadLatestPrediction统一处理逻辑
                loadLatestPrediction(showLoading);
            } catch (error) {
                console.error('预测数据同步错误', error);
                
                // 更新同步状态信息
                updateSyncStatus('错误', new Date());
                
                // 更新预测状态
                updatePredictionStatus('数据异常');
                
                // 显示错误区域，隐藏内容区域
                const contentElement = document.getElementById('prediction-content');
                const errorElement = document.getElementById('prediction-error');
                if (contentElement) contentElement.classList.add('hidden');
                if (errorElement) errorElement.classList.remove('hidden');
                
                // 显示错误通知
                showNotification('数据同步失败', '无法获取最新的预测结果数据', 'error');
            }
        }
        
        // 更新预测结果显示
        function updatePredictionDisplay(data) {
            // 确保数据存在
            if (!data) return;
            
            // 更新期号
            const periodElement = document.querySelector('#prediction-container h3');
            if (periodElement) {
                // 提取期号中的数字部分
                const periodNumber = String(data.period).replace(/[^\d]/g, '');
                periodElement.textContent = periodNumber ? `第${periodNumber}期推理结果` : '暂无推理结果';
            }
            
            // 更新更新时间
            const updateTimeElement = document.getElementById('update-time');
            if (updateTimeElement) {
                updateTimeElement.textContent = data.updateTime || data.time || new Date().toLocaleString('zh-CN');
            }
            
            // 更新胆码 - 兼容prediction.html数据格式
            const d胆码Container = document.getElementById('d胆码-container');
            if (d胆码Container) {
                d胆码Container.innerHTML = '';
                
                // 使用d胆码字段，这是prediction.html生成的格式
                const d胆码Numbers = Array.isArray(data.d胆码) ? data.d胆码 : [];
                
                if (d胆码Numbers.length > 0) {
                    d胆码Numbers.forEach(number => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball number-ball-secondary'; // 统一样式类名与updatePredictionUI一致
                        ball.textContent = number;
                        d胆码Container.appendChild(ball);
                    });
                } else {
                    // 统一空状态提示文本
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无';
                    d胆码Container.appendChild(emptyText);
                }
            }
            
            // 更新五码 - 兼容prediction.html数据格式
            const fiveNumberContainer = document.getElementById('five-number-container');
            if (fiveNumberContainer) {
                fiveNumberContainer.innerHTML = '';
                
                // 使用fiveNumbers字段，这是prediction.html生成的格式，兼容多种格式
                const fiveNumbers = Array.isArray(data.fiveNumbers) ? data.fiveNumbers : (Array.isArray(data.fiveNumber) ? data.fiveNumber : []);
                
                if (fiveNumbers.length > 0) {
                    fiveNumbers.forEach(number => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball number-ball-secondary';
                        ball.textContent = number;
                        fiveNumberContainer.appendChild(ball);
                    });
                } else {
                    // 统一空状态提示文本
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无';
                    fiveNumberContainer.appendChild(emptyText);
                }
            }
            
            // 更新七码 - 兼容prediction.html数据格式
            const sevenNumberContainer = document.getElementById('seven-number-container');
            if (sevenNumberContainer) {
                sevenNumberContainer.innerHTML = '';
                
                // 使用sevenNumbers字段，这是prediction.html生成的格式，兼容多种格式
                const sevenNumbers = Array.isArray(data.sevenNumbers) ? data.sevenNumbers : (Array.isArray(data.sevenNumber) ? data.sevenNumber : []);
                
                if (sevenNumbers.length > 0) {
                    sevenNumbers.forEach(number => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball number-ball-accent';
                        ball.textContent = number;
                        sevenNumberContainer.appendChild(ball);
                    });
                } else {
                    // 统一空状态提示文本
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无';
                    sevenNumberContainer.appendChild(emptyText);
                }
            }
            
            // 更新跨度
            const spanElement = document.getElementById('predicted-span');
            if (spanElement) {
                // 兼容spans数组和span字符串格式
                if (Array.isArray(data.spans) && data.spans.length > 0) {
                    spanElement.textContent = data.spans.join(', ');
                } else {
                    spanElement.textContent = data.span || '暂无';
                }
            }
            
            // 更新形态
            const patternElement = document.getElementById('predicted-pattern');
            if (patternElement) {
                patternElement.textContent = data.pattern || '暂无';
            }
            
            // 更新组选推荐 - 兼容prediction.html数据格式
            const groupSelectionContainer = document.getElementById('group-selection-container');
            if (groupSelectionContainer) {
                groupSelectionContainer.innerHTML = '';
                
                // 使用groupSelections字段，这是prediction.html生成的格式，兼容多种格式
                const groupSelections = Array.isArray(data.groupSelections) ? data.groupSelections : (Array.isArray(data.groupSelection) ? data.groupSelection : []);
                
                if (groupSelections.length > 0) {
                    // 只显示前6个组选号码
                    groupSelections.slice(0, 6).forEach(number => {
                        const span = document.createElement('span');
                        span.className = 'bg-green-100 text-green-800 text-xs font-medium px-2.5 py-1 rounded';
                        span.textContent = number;
                        groupSelectionContainer.appendChild(span);
                    });
                } else {
                    // 统一空状态提示文本
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无推荐';
                    groupSelectionContainer.appendChild(emptyText);
                }
            }
            
            // 更新直选推荐 - 兼容prediction.html数据格式
            const directSelectionContainer = document.getElementById('direct-selection-container');
            if (directSelectionContainer) {
                directSelectionContainer.innerHTML = '';
                
                // 使用directSelections字段，这是prediction.html生成的格式，兼容多种格式
                const directSelections = Array.isArray(data.directSelections) ? data.directSelections : (Array.isArray(data.directSelection) ? data.directSelection : []);
                
                if (directSelections.length > 0) {
                    // 只显示前6个直选号码
                    directSelections.slice(0, 6).forEach(number => {
                        const span = document.createElement('span');
                        span.className = 'bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-1 rounded';
                        span.textContent = number;
                        directSelectionContainer.appendChild(span);
                    });
                } else {
                    // 统一空状态提示文本
                    const emptyText = document.createElement('span');
                    emptyText.className = 'text-gray-400 italic';
                    emptyText.textContent = '暂无推荐';
                    directSelectionContainer.appendChild(emptyText);
                }
            }
        }
        
        // 更新同步状态信息
        function updateSyncStatus(status, time) {
            const syncStatusElement = document.getElementById('sync-status');
            if (syncStatusElement) {
                const formattedTime = formatDateTime(time);
                
                let iconClass = 'fa-info-circle';
                let bgColorClass = 'bg-blue-50';
                let textColorClass = 'text-blue-500';
                
                if (status === '正常') {
                    iconClass = 'fa-check-circle';
                    bgColorClass = 'bg-green-50';
                    textColorClass = 'text-green-500';
                } else if (status === '错误') {
                    iconClass = 'fa-exclamation-circle';
                    bgColorClass = 'bg-red-50';
                    textColorClass = 'text-red-500';
                } else if (status === '加载中') {
                    iconClass = 'fa-spinner fa-spin';
                    bgColorClass = 'bg-yellow-50';
                    textColorClass = 'text-yellow-500';
                }
                
                syncStatusElement.className = `mt-6 p-4 ${bgColorClass} rounded-lg text-sm text-gray-600`;
                syncStatusElement.innerHTML = `
                    <div class="flex items-center">
                        <i class="fa ${iconClass} ${textColorClass} mr-2"></i>
                        <span>数据同步状态: ${status}。上次同步时间: ${formattedTime}</span>
                    </div>
                `;
            }
        }
        
        // 更新预测状态
        function updatePredictionStatus(status) {
            const statusElement = document.getElementById('prediction-status');
            if (statusElement) {
                let iconClass = 'fa-check-circle';
                
                if (status === '已验证') {
                    iconClass = 'fa-check-circle';
                } else if (status === '数据异常') {
                    iconClass = 'fa-exclamation-circle';
                } else if (status === '同步中') {
                    iconClass = 'fa-spinner fa-spin';
                }
                
                statusElement.innerHTML = `
                    <i class="fa ${iconClass} mr-1"></i> ${status}
                `;
            }
        }
        
        // 格式化日期时间
        function formatDateTime(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const seconds = String(date.getSeconds()).padStart(2, '0');
            
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        }
        
        // 404错误处理
        function handle404Error() {
            // 检查当前URL是否为404页面
            if (window.location.pathname.includes('404') || 
                window.location.pathname.includes('not-found')) {
                // 显示404错误通知
                showNotification('页面未找到', '您访问的页面不存在，将自动返回首页', 'error');
                
                // 3秒后跳转到首页
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 3000);
            }
        }
        
        // 页面加载完成后检查404错误
        window.addEventListener('load', handle404Error);
    </script>
    
    <!-- 退出登录处理脚本 -->
    <script>
        // 退出登录函数
        function handleLogout() {
            // 显示退出登录动画
            const logoutAnimation = document.getElementById('logout-animation');
            logoutAnimation.classList.remove('hidden');
            
            // 3秒后跳转到登录页面
            setTimeout(() => {
                // 清除本地存储的登录信息
                localStorage.removeItem('userId');
                localStorage.removeItem('authData');
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminLoginTime');
                
                // 跳转到登录页面
                window.location.href = 'login.html';
            }, 3000);
        }
        
        // 绑定退出登录按钮事件
        document.addEventListener('DOMContentLoaded', function() {
            // 桌面端退出登录按钮
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    handleLogout();
                });
            }
            
            // 移动端退出登录按钮
            const mobileLogoutBtn = document.getElementById('mobile-logout-btn');
            if (mobileLogoutBtn) {
                mobileLogoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    handleLogout();
                });
            }
        });
    </script>
</body>
</html>
