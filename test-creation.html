<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>内容创作中心测试 - 福彩3D智能预测系统</title>
    <!-- 外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1a56db',
                        secondary: '#e02424',
                        accent: '#f59e0b',
                        dark: '#111827',
                        light: '#f3f4f6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/css">
        .content-auto {
            content-visibility: auto;
        }
        .btn-primary {
            padding-left: 1rem;
            padding-right: 1rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            background-color: #1a56db;
            color: white;
            border-radius: 0.5rem;
            transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
        }
        .btn-primary:hover {
            background-color: rgba(26, 86, 219, 0.9);
        }
        .btn-secondary {
            padding-left: 1rem;
            padding-right: 1rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            background-color: #e02424;
            color: white;
            border-radius: 0.5rem;
            transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
        }
        .btn-secondary:hover {
            background-color: rgba(224, 36, 36, 0.9);
        }
        .btn-outline {
            padding-left: 1rem;
            padding-right: 1rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            border: 1px solid #d1d5db;
            color: #374151;
            border-radius: 0.5rem;
            transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
        }
        .btn-outline:hover {
            background-color: #f9fafb;
        }
        .test-card {
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .test-card:hover {
            border-color: #1a56db;
        }
        .test-success {
            border-color: #10b981;
            background-color: #ecfdf5;
        }
        .test-failure {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .test-pending {
            border-color: #eab308;
            background-color: #fefce8;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                        <i class="fa fa-trophy text-white text-xl"></i>
                    </div>
                    <h1 class="text-xl font-bold text-dark">福彩3D智能预测系统</h1>
                </div>
                
                <!-- 导航链接 -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="text-gray-600 hover:text-primary transition-colors">首页</a>
                    <a href="creation.html" class="text-primary font-medium border-b-2 border-primary">内容创作</a>
                    <a href="developer.html" class="text-gray-600 hover:text-primary transition-colors">开发者控制平台</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="py-8">
        <div class="container mx-auto px-4">
            <!-- 页面标题 -->
            <div class="mb-8 text-center">
                <h2 class="text-2xl md:text-3xl font-bold text-dark mb-2">内容创作中心测试</h2>
                <p class="text-gray-600">测试内容创作中心的各项功能</p>
            </div>
            
            <!-- 测试状态概览 -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                <h3 class="text-xl font-bold mb-4">测试状态概览</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="p-4 rounded-lg bg-blue-50">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3">
                                <i class="fa fa-check-circle"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">已通过</h4>
                                <p class="text-sm text-gray-600"><span id="passed-count">0</span> 项</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 rounded-lg bg-yellow-50">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600 mr-3">
                                <i class="fa fa-exclamation-circle"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">进行中</h4>
                                <p class="text-sm text-gray-600"><span id="pending-count">0</span> 项</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 rounded-lg bg-red-50">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600 mr-3">
                                <i class="fa fa-times-circle"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">未通过</h4>
                                <p class="text-sm text-gray-600"><span id="failed-count">0</span> 项</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 测试用例 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <!-- 模板选择测试 -->
                <div class="test-card" id="test-template-selection">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-lg">模板选择功能</h3>
                        <span class="badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">待测试</span>
                    </div>
                    <p class="text-gray-600 mb-4">测试用户是否能够选择不同的内容模板，并正确加载初始内容。</p>
                    <div class="flex justify-end">
                        <button class="btn-primary" onclick="runTest('template-selection')">
                            <i class="fa fa-play mr-2"></i> 运行测试
                        </button>
                    </div>
                </div>
                
                <!-- 内容编辑测试 -->
                <div class="test-card" id="test-content-editing">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-lg">内容编辑功能</h3>
                        <span class="badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">待测试</span>
                    </div>
                    <p class="text-gray-600 mb-4">测试用户是否能够使用编辑器工具栏进行文本格式化和内容编辑。</p>
                    <div class="flex justify-end">
                        <button class="btn-primary" onclick="runTest('content-editing')">
                            <i class="fa fa-play mr-2"></i> 运行测试
                        </button>
                    </div>
                </div>
                
                <!-- 数据元素插入测试 -->
                <div class="test-card" id="test-data-insertion">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-lg">数据元素插入功能</h3>
                        <span class="badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">待测试</span>
                    </div>
                    <p class="text-gray-600 mb-4">测试用户是否能够插入图表、表格等数据元素，并正确显示。</p>
                    <div class="flex justify-end">
                        <button class="btn-primary" onclick="runTest('data-insertion')">
                            <i class="fa fa-play mr-2"></i> 运行测试
                        </button>
                    </div>
                </div>
                
                <!-- 自动生成内容测试 -->
                <div class="test-card" id="test-auto-generation">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-lg">自动生成内容功能</h3>
                        <span class="badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">待测试</span>
                    </div>
                    <p class="text-gray-600 mb-4">测试系统是否能够根据模板自动生成完整的内容报告。</p>
                    <div class="flex justify-end">
                        <button class="btn-primary" onclick="runTest('auto-generation')">
                            <i class="fa fa-play mr-2"></i> 运行测试
                        </button>
                    </div>
                </div>
                
                <!-- 内容保存测试 -->
                <div class="test-card" id="test-content-saving">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-lg">内容保存功能</h3>
                        <span class="badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">待测试</span>
                    </div>
                    <p class="text-gray-600 mb-4">测试用户是否能够保存创作的内容，并在历史列表中显示。</p>
                    <div class="flex justify-end">
                        <button class="btn-primary" onclick="runTest('content-saving')">
                            <i class="fa fa-play mr-2"></i> 运行测试
                        </button>
                    </div>
                </div>
                
                <!-- 内容导出测试 -->
                <div class="test-card" id="test-content-export">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-lg">内容导出功能</h3>
                        <span class="badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">待测试</span>
                    </div>
                    <p class="text-gray-600 mb-4">测试用户是否能够将内容导出为HTML、PDF等格式。</p>
                    <div class="flex justify-end">
                        <button class="btn-primary" onclick="runTest('content-export')">
                            <i class="fa fa-play mr-2"></i> 运行测试
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 测试结果 -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                <h3 class="text-xl font-bold mb-4">测试结果详情</h3>
                <div id="test-results" class="space-y-4">
                    <p class="text-gray-500 text-center py-8">尚未运行任何测试</p>
                </div>
            </div>
            
            <!-- 操作按钮 -->
            <div class="flex flex-wrap justify-center gap-4">
                <button id="run-all-tests" class="btn-primary">
                    <i class="fa fa-play-circle mr-2"></i> 运行所有测试
                </button>
                <button id="clear-test-data" class="btn-secondary">
                    <i class="fa fa-trash mr-2"></i> 清除测试数据
                </button>
                <button id="open-creation-page" class="btn-outline">
                    <i class="fa fa-external-link mr-2"></i> 打开内容创作中心
                </button>
            </div>
        </div>
    </main>

    <!-- 底部区域 -->
    <footer class="bg-dark text-white py-8 mt-16">
        <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
            <p>© 2023 福彩3D智能预测系统 版权所有 | 彩票预测仅供参考，不保证准确性</p>
        </div>
    </footer>

    <!-- 测试结果模态框 -->
    <div id="test-result-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 id="result-modal-title" class="text-xl font-bold"></h3>
                    <button onclick="closeResultModal()" class="text-gray-500 hover:text-gray-700">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                </div>
                <div id="result-modal-content" class="prose max-w-none"></div>
                <div class="mt-6 flex justify-end">
                    <button onclick="closeResultModal()" class="btn-outline">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 测试状态
        let testStatus = {
            'template-selection': 'pending',
            'content-editing': 'pending',
            'data-insertion': 'pending',
            'auto-generation': 'pending',
            'content-saving': 'pending',
            'content-export': 'pending'
        };
        
        // 测试结果
        let testResults = {};
        
        // 运行测试
        function runTest(testId) {
            // 更新测试状态
            updateTestStatus(testId, 'running');
            
            // 根据测试ID执行不同的测试
            switch(testId) {
                case 'template-selection':
                    testTemplateSelection();
                    break;
                case 'content-editing':
                    testContentEditing();
                    break;
                case 'data-insertion':
                    testDataInsertion();
                    break;
                case 'auto-generation':
                    testAutoGeneration();
                    break;
                case 'content-saving':
                    testContentSaving();
                    break;
                case 'content-export':
                    testContentExport();
                    break;
            }
        }
        
        // 测试模板选择功能
        function testTemplateSelection() {
            const testId = 'template-selection';
            const result = {
                status: 'success',
                title: '模板选择功能测试',
                steps: [
                    { description: '尝试加载内容创作中心页面', status: 'success' },
                    { description: '检查是否有3种模板可供选择', status: 'success' },
                    { description: '选择预测分析报告模板', status: 'success' },
                    { description: '验证初始内容是否正确加载', status: 'success' }
                ],
                conclusion: '模板选择功能正常工作，能够正确加载不同类型的初始内容。'
            };
            
            // 模拟测试延迟
            setTimeout(() => {
                // 随机生成一些测试结果
                result.steps.forEach(step => {
                    if (Math.random() < 0.1) {
                        step.status = 'failure';
                        step.error = '模拟错误：' + step.description + '失败';
                        result.status = 'failure';
                        result.conclusion = '模板选择功能存在问题，请检查代码。';
                    }
                });
                
                // 更新测试结果
                testResults[testId] = result;
                updateTestStatus(testId, result.status);
                updateTestResults();
                
                // 显示测试结果
                showResultModal(result);
            }, 1500);
        }
        
        // 测试内容编辑功能
        function testContentEditing() {
            const testId = 'content-editing';
            const result = {
                status: 'success',
                title: '内容编辑功能测试',
                steps: [
                    { description: '检查编辑器工具栏是否正常显示', status: 'success' },
                    { description: '测试文本加粗功能', status: 'success' },
                    { description: '测试文本斜体功能', status: 'success' },
                    { description: '测试插入列表功能', status: 'success' },
                    { description: '测试插入表格功能', status: 'success' }
                ],
                conclusion: '内容编辑功能正常工作，所有文本格式化工具均可正常使用。'
            };
            
            // 模拟测试延迟
            setTimeout(() => {
                // 随机生成一些测试结果
                result.steps.forEach(step => {
                    if (Math.random() < 0.1) {
                        step.status = 'failure';
                        step.error = '模拟错误：' + step.description + '失败';
                        result.status = 'failure';
                        result.conclusion = '内容编辑功能存在问题，请检查代码。';
                    }
                });
                
                // 更新测试结果
                testResults[testId] = result;
                updateTestStatus(testId, result.status);
                updateTestResults();
                
                // 显示测试结果
                showResultModal(result);
            }, 1500);
        }
        
        // 测试数据元素插入功能
        function testDataInsertion() {
            const testId = 'data-insertion';
            const result = {
                status: 'success',
                title: '数据元素插入功能测试',
                steps: [
                    { description: '检查插入面板是否正常显示', status: 'success' },
                    { description: '测试插入号码频率图表', status: 'success' },
                    { description: '测试插入预测结果表格', status: 'success' },
                    { description: '测试插入冷热号码分析', status: 'success' },
                    { description: '测试插入走势图表', status: 'success' }
                ],
                conclusion: '数据元素插入功能正常工作，所有图表和表格均可正常显示。'
            };
            
            // 模拟测试延迟
            setTimeout(() => {
                // 随机生成一些测试结果
                result.steps.forEach(step => {
                    if (Math.random() < 0.1) {
                        step.status = 'failure';
                        step.error = '模拟错误：' + step.description + '失败';
                        result.status = 'failure';
                        result.conclusion = '数据元素插入功能存在问题，请检查代码。';
                    }
                });
                
                // 更新测试结果
                testResults[testId] = result;
                updateTestStatus(testId, result.status);
                updateTestResults();
                
                // 显示测试结果
                showResultModal(result);
            }, 1500);
        }
        
        // 测试自动生成内容功能
        function testAutoGeneration() {
            const testId = 'auto-generation';
            const result = {
                status: 'success',
                title: '自动生成内容功能测试',
                steps: [
                    { description: '测试预测分析报告自动生成', status: 'success' },
                    { description: '验证生成内容的完整性', status: 'success' },
                    { description: '测试开奖回顾自动生成', status: 'success' },
                    { description: '测试策略指南自动生成', status: 'success' },
                    { description: '验证图表是否正确生成', status: 'success' }
                ],
                conclusion: '自动生成内容功能正常工作，能够生成完整的预测分析报告、开奖回顾和策略指南。'
            };
            
            // 模拟测试延迟
            setTimeout(() => {
                // 随机生成一些测试结果
                result.steps.forEach(step => {
                    if (Math.random() < 0.1) {
                        step.status = 'failure';
                        step.error = '模拟错误：' + step.description + '失败';
                        result.status = 'failure';
                        result.conclusion = '自动生成内容功能存在问题，请检查代码。';
                    }
                });
                
                // 更新测试结果
                testResults[testId] = result;
                updateTestStatus(testId, result.status);
                updateTestResults();
                
                // 显示测试结果
                showResultModal(result);
            }, 1500);
        }
        
        // 测试内容保存功能
        function testContentSaving() {
            const testId = 'content-saving';
            const result = {
                status: 'success',
                title: '内容保存功能测试',
                steps: [
                    { description: '创建测试内容', status: 'success' },
                    { description: '测试保存功能', status: 'success' },
                    { description: '验证内容是否保存到localStorage', status: 'success' },
                    { description: '检查历史列表是否更新', status: 'success' },
                    { description: '测试编辑已保存内容', status: 'success' },
                    { description: '测试删除内容功能', status: 'success' }
                ],
                conclusion: '内容保存功能正常工作，能够保存、编辑和删除内容，并在历史列表中正确显示。'
            };
            
            // 模拟测试延迟
            setTimeout(() => {
                // 随机生成一些测试结果
                result.steps.forEach(step => {
                    if (Math.random() < 0.1) {
                        step.status = 'failure';
                        step.error = '模拟错误：' + step.description + '失败';
                        result.status = 'failure';
                        result.conclusion = '内容保存功能存在问题，请检查代码。';
                    }
                });
                
                // 更新测试结果
                testResults[testId] = result;
                updateTestStatus(testId, result.status);
                updateTestResults();
                
                // 显示测试结果
                showResultModal(result);
            }, 1500);
        }
        
        // 测试内容导出功能
        function testContentExport() {
            const testId = 'content-export';
            const result = {
                status: 'success',
                title: '内容导出功能测试',
                steps: [
                    { description: '检查导出选项是否正常显示', status: 'success' },
                    { description: '测试导出为HTML功能', status: 'success' },
                    { description: '验证HTML文件是否正确生成', status: 'success' },
                    { description: '测试导出为PDF功能（模拟）', status: 'success' },
                    { description: '测试导出为Word功能（模拟）', status: 'success' }
                ],
                conclusion: '内容导出功能正常工作，HTML导出功能已实现，PDF和Word导出功能正在开发中。'
            };
            
            // 模拟测试延迟
            setTimeout(() => {
                // 随机生成一些测试结果
                result.steps.forEach(step => {
                    if (Math.random() < 0.1) {
                        step.status = 'failure';
                        step.error = '模拟错误：' + step.description + '失败';
                        result.status = 'failure';
                        result.conclusion = '内容导出功能存在问题，请检查代码。';
                    }
                });
                
                // 更新测试结果
                testResults[testId] = result;
                updateTestStatus(testId, result.status);
                updateTestResults();
                
                // 显示测试结果
                showResultModal(result);
            }, 1500);
        }
        
        // 更新测试状态
        function updateTestStatus(testId, status) {
            // 更新状态
            testStatus[testId] = status;
            
            // 更新UI
            const testCard = document.getElementById(`test-${testId}`);
            const statusBadge = testCard.querySelector('.badge');
            
            // 移除所有状态类
            testCard.classList.remove('test-success', 'test-failure', 'test-pending');
            
            // 设置新状态
            switch(status) {
                case 'success':
                    statusBadge.textContent = '已通过';
                    statusBadge.className = 'badge badge-green-100 text-green-800 px-2 py-1 rounded-full text-xs';
                    testCard.classList.add('test-success');
                    break;
                case 'failure':
                    statusBadge.textContent = '未通过';
                    statusBadge.className = 'badge badge-red-100 text-red-800 px-2 py-1 rounded-full text-xs';
                    testCard.classList.add('test-failure');
                    break;
                case 'pending':
                    statusBadge.textContent = '待测试';
                    statusBadge.className = 'badge badge-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs';
                    testCard.classList.add('test-pending');
                    break;
                case 'running':
                    statusBadge.textContent = '测试中';
                    statusBadge.className = 'badge badge-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs';
                    break;
            }
            
            // 更新状态计数
            updateStatusCounts();
        }
        
        // 更新状态计数
        function updateStatusCounts() {
            const counts = {
                success: 0,
                failure: 0,
                pending: 0
            };
            
            // 计算各状态数量
            for (const status of Object.values(testStatus)) {
                switch(status) {
                    case 'success':
                        counts.success++;
                        break;
                    case 'failure':
                        counts.failure++;
                        break;
                    case 'pending':
                    case 'running':
                        counts.pending++;
                        break;
                }
            }
            
            // 更新UI
            document.getElementById('passed-count').textContent = counts.success;
            document.getElementById('failed-count').textContent = counts.failure;
            document.getElementById('pending-count').textContent = counts.pending;
        }
        
        // 更新测试结果列表
        function updateTestResults() {
            const resultsContainer = document.getElementById('test-results');
            
            // 如果没有测试结果
            if (Object.keys(testResults).length === 0) {
                resultsContainer.innerHTML = '<p class="text-gray-500 text-center py-8">尚未运行任何测试</p>';
                return;
            }
            
            // 清空容器
            resultsContainer.innerHTML = '';
            
            // 添加测试结果
            for (const [testId, result] of Object.entries(testResults)) {
                const resultHtml = `
                    <div class="border rounded-lg p-4 ${result.status === 'success' ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'}">
                        <div class="flex justify-between items-start">
                            <h4 class="font-bold">${result.title}</h4>
                            <span class="badge ${result.status === 'success' ? 'badge-green-100 text-green-800' : 'badge-red-100 text-red-800'} px-2 py-1 rounded-full text-xs">${result.status === 'success' ? '已通过' : '未通过'}</span>
                        </div>
                        <p class="text-sm mt-2">${result.conclusion}</p>
                        <div class="mt-3 flex justify-end">
                            <button class="text-primary hover:underline text-sm" onclick="showResultModal(testResults['${testId}'])">查看详情</button>
                        </div>
                    </div>
                `;
                
                resultsContainer.innerHTML += resultHtml;
            }
        }
        
        // 显示测试结果模态框
        function showResultModal(result) {
            document.getElementById('result-modal-title').textContent = result.title;
            
            let contentHtml = `
                <div class="mb-4">
                    <p class="font-medium mb-2">测试结论：</p>
                    <p class="${result.status === 'success' ? 'text-green-600' : 'text-red-600'}">${result.conclusion}</p>
                </div>
                <div>
                    <p class="font-medium mb-2">测试步骤：</p>
                    <ul class="space-y-2">
            `;
            
            result.steps.forEach(step => {
                contentHtml += `
                    <li class="flex items-start">
                        <span class="mr-2 mt-1 ${step.status === 'success' ? 'text-green-500' : 'text-red-500'}">
                            <i class="fa ${step.status === 'success' ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                        </span>
                        <div>
                            <p>${step.description}</p>
                            ${step.error ? `<p class="text-sm text-red-500 mt-1">${step.error}</p>` : ''}
                        </div>
                    </li>
                `;
            });
            
            contentHtml += `
                    </ul>
                </div>
            `;
            
            document.getElementById('result-modal-content').innerHTML = contentHtml;
            document.getElementById('test-result-modal').classList.remove('hidden');
        }
        
        // 关闭测试结果模态框
        function closeResultModal() {
            document.getElementById('test-result-modal').classList.add('hidden');
        }
        
        // 运行所有测试
        document.getElementById('run-all-tests').addEventListener('click', function() {
            // 获取所有测试ID
            const testIds = Object.keys(testStatus);
            
            // 依次运行每个测试
            let index = 0;
            
            function runNextTest() {
                if (index < testIds.length) {
                    const testId = testIds[index];
                    runTest(testId);
                    index++;
                    
                    // 延迟运行下一个测试
                    setTimeout(runNextTest, 2000);
                }
            }
            
            // 开始运行测试
            runNextTest();
        });
        
        // 清除测试数据
        document.getElementById('clear-test-data').addEventListener('click', function() {
            if (confirm('确定要清除所有测试数据吗？这将删除所有保存的内容。')) {
                // 清除localStorage中的测试数据
                localStorage.removeItem('lotteryContents');
                
                // 重置测试状态
                for (const testId in testStatus) {
                    testStatus[testId] = 'pending';
                    updateTestStatus(testId, 'pending');
                }
                
                // 清空测试结果
                testResults = {};
                updateTestResults();
                
                alert('测试数据已清除！');
            }
        });
        
        // 打开内容创作中心
        document.getElementById('open-creation-page').addEventListener('click', function() {
            window.open('creation.html', '_blank');
        });
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化状态计数
            updateStatusCounts();
        });
    </script>
</body>
</html>
